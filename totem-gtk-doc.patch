From 6bf1e1d06d1a93b727f2fa7a4ba5c6dae2977199 Mon Sep 17 00:00:00 2001
From: Jeremy Bicha <jbicha@ubuntu.com>
Date: Thu, 19 Oct 2017 10:41:55 -0400
Subject: [PATCH] build: Fix build with gtk-doc 1.26

https://bugzilla.gnome.org/show_bug.cgi?id=789202
---
 docs/reference/meson.build | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/reference/meson.build b/docs/reference/meson.build
index 16f64bb8..ff61274f 100644
--- a/docs/reference/meson.build
+++ b/docs/reference/meson.build
@@ -89,7 +89,7 @@ gnome.gtkdoc(
     '--ignore-headers=' + ' '.join(private_headers),
   ],
   mkdb_args: [
-    '--sgml-mode',
+    '--xml-mode',
     '--output-format=xml',
     '--name-space=' + meson.project_name()
   ],
-- 
2.14.3

--- totem-3.26.0/docs/reference/meson.build.gtkdoc	2018-03-17 22:59:32.785973378 +0100
+++ totem-3.26.0/docs/reference/meson.build	2018-03-17 22:59:40.769963377 +0100
@@ -72,7 +72,7 @@ configure_file(
   configuration: version_conf
 )
 
-doc_path = join_paths(totem_datadir, 'gtk-doc', 'html', meson.project_name())
+doc_path = join_paths(totem_datadir, 'doc', 'gtk-doc', 'html', meson.project_name())
 
 gnome.gtkdoc(
   meson.project_name(),
